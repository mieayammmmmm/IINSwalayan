@{
    ViewData["Title"] = "IIN Swalayan - Belanja Online Mudah & Terpercaya";
    var featuredProducts = ViewBag.FeaturedProducts as List<IINSwalayan.Models.Product> ?? new List<IINSwalayan.Models.Product>();
    var categories = ViewBag.Categories as List<IINSwalayan.Models.Category> ?? new List<IINSwalayan.Models.Category>();
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    Belanja Online <span class="text-warning">Mudah & Terpercaya</span>
                </h1>
                <p class="lead mb-4">
                    Dapatkan produk berkualitas dengan harga terbaik. Pengiriman cepat, pembayaran aman,
                    dan layanan pelanggan 24/7.
                </p>
                <div class="d-flex gap-3">
                    <a href="@Url.Action("Products", "Home")" class="btn btn-light btn-lg">
                        <i class="fas fa-shopping-bag"></i> Mulai Belanja
                    </a>
                    <a href="@Url.Action("About", "Home")" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-info-circle"></i> Tentang Kami
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <img src="https://via.placeholder.com/500x400/ffffff/333333?text=Shopping+Illustration"
                     alt="Shopping" class="img-fluid rounded-3 shadow">
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-3 text-center mb-4">
                <div class="card border-0 h-100">
                    <div class="card-body">
                        <i class="fas fa-shipping-fast fa-3x text-primary mb-3"></i>
                        <h5>Pengiriman Cepat</h5>
                        <p class="text-muted">Pesanan diantar dalam 1-2 hari kerja</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center mb-4">
                <div class="card border-0 h-100">
                    <div class="card-body">
                        <i class="fas fa-shield-alt fa-3x text-success mb-3"></i>
                        <h5>Pembayaran Aman</h5>
                        <p class="text-muted">Transaksi dijamin aman dan terpercaya</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center mb-4">
                <div class="card border-0 h-100">
                    <div class="card-body">
                        <i class="fas fa-headset fa-3x text-warning mb-3"></i>
                        <h5>Support 24/7</h5>
                        <p class="text-muted">Layanan pelanggan siap membantu</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3 text-center mb-4">
                <div class="card border-0 h-100">
                    <div class="card-body">
                        <i class="fas fa-medal fa-3x text-danger mb-3"></i>
                        <h5>Produk Berkualitas</h5>
                        <p class="text-muted">Semua produk telah melewati quality control</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
@if (categories.Any())
{
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Kategori Produk</h2>
            <p class="text-muted">Jelajahi berbagai kategori produk pilihan kami</p>
        </div>
        <div class="row">
            @foreach (var category in categories.Take(6))
                {
            <div class="col-md-4 col-lg-2 mb-4">
                <a href="@Url.Action("Products", "Home", new { categoryId = category.Id })"
                   class="category-card card text-decoration-none h-100">
                    <div class="card-body text-center">
                        @if (!string.IsNullOrEmpty(category.IconClass))
                                {
                        <i class="@category.IconClass fa-3x text-primary mb-3"></i>
                                }
                                else
                                {
                        <i class="fas fa-tag fa-3x text-primary mb-3"></i>
                                }
                        <h6 class="fw-bold">@category.Name</h6>
                        <small class="text-muted">@category.Products.Count(p => p.IsActive) produk</small>
                    </div>
                </a>
            </div>
                }
        </div>
        <div class="text-center mt-4">
            <a href="@Url.Action("Products", "Home")" class="btn btn-outline-primary">
                Lihat Semua Kategori <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</section>
}

<!-- Featured Products Section -->
@if (featuredProducts.Any())
{
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold">Produk Terbaru</h2>
            <p class="text-muted">Produk-produk terbaru dan terpopuler dari IIN Swalayan</p>
        </div>
        <div class="row">
            @foreach (var product in featuredProducts)
                {
            <div class="col-md-6 col-lg-3 mb-4">
                <div class="card product-card">
                    @if (!string.IsNullOrEmpty(product.ImageUrl))
                            {
                    <img src="@product.ImageUrl" class="product-image" alt="@product.Name">
                            }
                            else
                            {
                    <div class="product-image bg-light d-flex align-items-center justify-content-center">
                        <i class="fas fa-image fa-3x text-muted"></i>
                    </div>
                            }
                    <div class="card-body">
                        @if (product.Category != null)
                                {
                        <span class="badge bg-secondary mb-2">@product.Category.Name</span>
                                }
                        <h6 class="card-title">@product.Name</h6>
                        @if (!string.IsNullOrEmpty(product.Description))
                                {
                        <p class="card-text text-muted small">
                            @product.Description.Substring(0, Math.Min(80, product.Description.Length))@(product.Description.Length > 80 ? "..." : "")
                        </p>
                                }
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="product-price">Rp @product.Price.ToString("N0")</span>
                            </div>
                            <div>
                                @if (product.Stock > 0)
                                        {
                                <span class="badge bg-success">Stok: @product.Stock</span>
                                        }
                                        else
                                        {
                                <span class="badge bg-danger">Habis</span>
                                        }
                            </div>
                        </div>
                        <div class="mt-3">
                            <a href="@Url.Action("ProductDetail", "Home", new { id = product.Id })"
                               class="btn btn-outline-primary btn-sm w-100">
                                <i class="fas fa-eye"></i> Lihat Detail
                            </a>
                        </div>
                    </div>
                </div>
            </div>
                }
        </div>
        <div class="text-center mt-4">
            <a href="@Url.Action("Products", "Home")" class="btn btn-primary btn-lg">
                Lihat Semua Produk <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
</section>
}

<!-- Newsletter Section -->
<section class="py-5" style="background: linear-gradient(135deg, #e74c3c, #2c3e50);">
    <div class="container">
        <div class="row align-items-center text-white">
            <div class="col-lg-6">
                <h3 class="fw-bold mb-3">Dapatkan Promo Menarik!</h3>
                <p class="mb-4">Berlangganan newsletter kami dan dapatkan informasi promo, diskon, dan produk terbaru langsung di email Anda.</p>
            </div>
            <div class="col-lg-6">
                <form class="d-flex gap-3">
                    <input type="email" class="form-control" placeholder="Masukkan email Anda" required>
                    <button type="submit" class="btn btn-light btn-lg">
                        <i class="fas fa-paper-plane"></i> Subscribe
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Add some interactivity
        document.addEventListener('DOMContentLoaded', function() {
            // Animate cards on scroll
            const cards = document.querySelectorAll('.product